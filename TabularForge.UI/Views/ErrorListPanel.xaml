<UserControl x:Class="TabularForge.UI.Views.ErrorListPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             Background="{DynamicResource PanelBackground}">

    <DockPanel>
        <!-- Toolbar -->
        <Border DockPanel.Dock="Top" Padding="4,2"
                Background="{DynamicResource TabBarBackground}"
                BorderBrush="{DynamicResource BorderBrush}" BorderThickness="0,0,0,1">
            <DockPanel>
                <StackPanel Orientation="Horizontal">
                    <CheckBox x:Name="ShowErrorsCheck" Content="Errors" IsChecked="True"
                              Foreground="{DynamicResource ErrorText}"
                              VerticalAlignment="Center" Margin="0,0,8,0"
                              Checked="FilterChanged" Unchecked="FilterChanged" />
                    <CheckBox x:Name="ShowWarningsCheck" Content="Warnings" IsChecked="True"
                              Foreground="{DynamicResource WarningText}"
                              VerticalAlignment="Center" Margin="0,0,8,0"
                              Checked="FilterChanged" Unchecked="FilterChanged" />
                    <CheckBox x:Name="ShowInfoCheck" Content="Info" IsChecked="True"
                              Foreground="{DynamicResource InfoText}"
                              VerticalAlignment="Center" Margin="0,0,8,0"
                              Checked="FilterChanged" Unchecked="FilterChanged" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <TextBlock x:Name="SummaryText" Text="0 Errors, 0 Warnings"
                               Foreground="{DynamicResource SecondaryText}"
                               VerticalAlignment="Center" Margin="0,0,8,0" FontSize="11" />
                    <Button Content="Clear" Click="ClearButton_Click"
                            Padding="6,2" FontSize="11" />
                </StackPanel>
            </DockPanel>
        </Border>

        <!-- Error List -->
        <DataGrid x:Name="ErrorGrid" AutoGenerateColumns="False"
                  IsReadOnly="True" SelectionMode="Single"
                  CanUserReorderColumns="True" CanUserSortColumns="True"
                  CanUserResizeColumns="True"
                  GridLinesVisibility="Horizontal"
                  HeadersVisibility="Column"
                  Background="{DynamicResource PanelBackground}"
                  Foreground="{DynamicResource PrimaryText}"
                  BorderThickness="0"
                  MouseDoubleClick="ErrorGrid_MouseDoubleClick">
            <DataGrid.Columns>
                <DataGridTextColumn Header="" Binding="{Binding SeverityIcon}" Width="24"
                                    IsReadOnly="True">
                    <DataGridTextColumn.ElementStyle>
                        <Style TargetType="TextBlock">
                            <Setter Property="HorizontalAlignment" Value="Center" />
                            <Setter Property="FontWeight" Value="Bold" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding SeverityIcon}" Value="E">
                                    <Setter Property="Foreground" Value="{DynamicResource ErrorText}" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding SeverityIcon}" Value="W">
                                    <Setter Property="Foreground" Value="{DynamicResource WarningText}" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding SeverityIcon}" Value="I">
                                    <Setter Property="Foreground" Value="{DynamicResource InfoText}" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </DataGridTextColumn.ElementStyle>
                </DataGridTextColumn>
                <DataGridTextColumn Header="Description" Binding="{Binding Message}" Width="*" />
                <DataGridTextColumn Header="Source" Binding="{Binding Source}" Width="150" />
                <DataGridTextColumn Header="Line" Binding="{Binding Line}" Width="50" />
                <DataGridTextColumn Header="Col" Binding="{Binding Column}" Width="50" />
            </DataGrid.Columns>
        </DataGrid>
    </DockPanel>
</UserControl>
