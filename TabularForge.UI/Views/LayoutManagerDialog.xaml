<Window x:Class="TabularForge.UI.Views.LayoutManagerDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Window Layout Manager"
        Height="400" Width="450"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource WindowBackground}"
        Foreground="{DynamicResource PrimaryText}">

    <DockPanel Margin="16">
        <TextBlock DockPanel.Dock="Top" Text="Window Layouts" FontSize="18"
                   FontWeight="SemiBold" Margin="0,0,0,12"
                   Foreground="{DynamicResource PrimaryText}" />

        <!-- Bottom buttons -->
        <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal"
                    HorizontalAlignment="Right" Margin="0,12,0,0">
            <Button Click="CloseButton_Click" Padding="16,6"
                    Background="{DynamicResource ButtonBackground}">
                <TextBlock Text="Close" FontSize="12" Foreground="{DynamicResource ButtonText}" />
            </Button>
        </StackPanel>

        <!-- Save new layout -->
        <Border DockPanel.Dock="Bottom" Padding="0,8,0,0">
            <StackPanel Orientation="Horizontal">
                <TextBox x:Name="NewLayoutName" Width="200" Padding="4,3" FontSize="12"
                         ToolTip="Name for new layout" />
                <Button Click="SaveLayout_Click" Padding="12,4" Margin="8,0,0,0">
                    <TextBlock Text="Save Current Layout" FontSize="12" />
                </Button>
            </StackPanel>
        </Border>

        <!-- Layout list -->
        <ListBox x:Name="LayoutList" Margin="0,0,0,8"
                 FontSize="12">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Grid Margin="4,4">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" Margin="0,0,8,0">
                            <TextBlock Text="{Binding Name}" FontSize="13" FontWeight="SemiBold"
                                       Foreground="{DynamicResource PrimaryText}" />
                            <TextBlock Text="{Binding Description}" FontSize="10.5"
                                       Foreground="{DynamicResource SecondaryText}" />
                        </StackPanel>

                        <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                            <Button Click="LoadLayout_Click" Tag="{Binding Name}"
                                    Padding="8,2" Margin="0,0,4,0">
                                <TextBlock Text="Load" FontSize="11" />
                            </Button>
                            <Button Click="DeleteLayout_Click" Tag="{Binding Name}"
                                    Padding="8,2"
                                    Visibility="{Binding IsBuiltIn, Converter={StaticResource InverseBoolToVis}}">
                                <TextBlock Text="X" FontSize="11"
                                           Foreground="{DynamicResource ErrorText}" />
                            </Button>
                        </StackPanel>
                    </Grid>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </DockPanel>
</Window>
